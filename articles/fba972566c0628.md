---
title: "lazygitã§git-flowã‚’ä½¿ã†"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["lazygit"]
published: false
---


# ã¯ã˜ã‚ã«

æœ€è¿‘ã€WezTermã‚„neovimã‚’ä½¿ã„å§‹ã‚ã¾ã—ãŸã€‚ä»¥ä¸‹æ‹™è‘—ã§ã™ã€‚

gitã«ã¤ã„ã¦ã¯ã€Forkã¨ã„ã†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰lazygitã‚’ä½¿ã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚æ™®æ®µã®é–‹ç™ºã§ã¯git-flowã«å‰‡ã£ã¦ä½¿ã£ã¦é–‹ç™ºã—ã¦ã„ã‚‹ã®ã§ã™ãŒã€lazygitã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã§ã™ã€‚
ãã®ãŸã‚ã€ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦git-flowã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

git-flowã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

https://jeffkreeftmeijer.com/git-flow/

ç§ãŒgit-flowã§ã‚ˆãä½¿ã£ã¦ã„ã‚‹ã®ã¯ã€ä»¥ä¸‹ã®2ã¤ã®é …ç›®ã§ã™ã€‚

- `feature`ãƒ–ãƒ©ãƒ³ãƒã‚’é–‹å§‹ã™ã‚‹
- `feature`ãƒ–ãƒ©ãƒ³ãƒã‚’çµ‚ã‚ã‚‰ã›ã‚‹

ãªã®ã§ã€ãã‚Œã‚‰2ã¤ã‚’lazygitä¸Šã§å®Ÿè¡Œã§ãã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

åŠ ãˆã¦ã€commitã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã‚„sè‹¦ã—ã¾ã™ã€‚

# ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰

lazygitã§ã¯ã€ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

## `git flow start`


ã¾ãš`lazygit`ã§git-flowã‚’ä½¿ã†ãŸã‚ã«`$ brew install git-flow`ã§git-flowã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```shell
$ brew install git-flow
```


å‚è€ƒ: https://github.com/jesseduffield/lazygit/blob/master/docs/Custom_Command_Keybindings.md


ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚ã™ã‚‹ã¨ã€lazygitã®`[3] local branches`ä¸Šã§`n`ã‚’æŠ¼ä¸‹ã™ã‚‹ã“ã¨ã§`feature/`ãƒ–ãƒ©ãƒ³ãƒãªã©ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```yaml: ~/Libirary/Application Support/lazygit/config.yml
customCommands:
  - key: 'n'
    context: 'localBranches'
    prompts:
      - type: 'menu'
        title: 'What kind of branch is it?'
        key: 'BranchType'
        options:
          - name: 'feature'
            description: 'a feature branch'
            value: 'feature'
          - name: 'hotfix'
            description: 'a hotfix branch'
            value: 'hotfix'
          - name: 'release'
            description: 'a release branch'
            value: 'release'
      - type: 'input'
        title: 'What is the new branch name?'
        key: 'BranchName'
        initialValue: ''
    command: "git flow {{.Form.BranchType}} start {{.Form.BranchName}}"
    loadingText: 'Creating branch'
```

## `git flow finish`

æ¬¡ã¯ã€featureãƒ–ãƒ©ãƒ³ãƒã‚’çµ‚ã‚ã‚‰ã›ã‚‹finishã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚PullRequesté‹ç”¨ã—ã¦ã„ã‚‹å ´åˆã«ã¯ã€ä½¿ãˆã¾ã›ã‚“ãŒã“ã‚Œã‚‚ã‚ã‚‹ã¨ä¾¿åˆ©ãªã®ã§è¿½åŠ ã—ã¾ã™ã€‚

```yaml: ~/Libirary/Application Support/lazygit/config.yml
customCommands:
  - key: '<c-f>'
    context: 'localBranches'
    prompts:
      - type: 'menu'
        title: '[git-flow] finish branch'
        key: 'BranchType'
        options:
          - name: 'feature'
            description: 'finish the feature branch'
            value: 'feature'
          - name: 'hotfix'
            description: 'finish the hotfix branch'
            value: 'hotfix'
          - name: 'release'
            description: 'finish the release branch'
            value: 'release'
      - type: 'input'
        input: 'branch name?'
        key: 'BranchName'
        suggestions:
          command: "git branch --show-current | cut -d'/' -f2"
    command: "git flow {{.Form.BranchType}} finish '{{.Form.BranchName}}'"
    loadingText: 'Finishing Branch'
```


## ã‚³ãƒŸãƒƒãƒˆ

æœ€å¾Œã«conventional commitã«ã¤ã„ã¦ã§ã™ã€‚GitHubãªã©ã®issueç•ªå·ã‚’ç´ã¥ã‘ã‚‹ã®ãŒæ¥½ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã‚ã¨ã€ãƒ‘ãƒƒã¨ã¯ã‚ã‹ã‚Šã«ãã„ã§ã™ãŒã€ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€éƒ¨ã‚’å…¥åŠ›ã—ãªãŒã‚‰ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```yaml: ~/Libirary/Application Support/lazygit/config.yml
customCommands:
  - key: '<c-c>'
    context: 'files'
    prompts:
      - type: 'input'
        title: '[git] Input prefix, e.g. issue number'
        input: 'branch prefix-name'
        key: 'Name'
        initialValue: '#'
        suggestions:
          command: "git branch --show-current | cut -d'/' -f2"
      - type: 'menu'
        title: '[git] Input prefix, e.g. fix; current:= {{.Form.Name}}'
        key: 'Prefix'
        options:
          - name: 'fix'
            description: 'bug fix.'
            value: 'fix'
          - name: 'feat'
            description: 'add new feature'
            value: 'feat'
          - name: 'refactor'
            description: 'refactor codes'
            value: 'refactor'
          - name: 'docs'
            description: 'update documents.'
            value: 'docs'
          - name: 'style'
            description: 'format, lint.'
            value: 'style'
          - name: 'test'
            description: 'add test.'
            value: 'test'
          - name: 'chore'
            description: 'others.'
            value: 'chore'
      - type: 'input'
        title: '[git] Input message; current:= {{.Form.Name}} {{.Form.Prefix}}'
        input: 'commit message'
        key: 'CommitMessage'
        initialValue: ''
    command: "git commit -m '{{.Form.Name}} {{.Form.Prefix}}: {{.Form.CommitMessage}}'"
    loadingText: 'Commit with prefix'
```

# ãŠã‚ã‚Šã«

ã“ã®ã‚ˆã†ã«ã—ã¦ã€lazygitã§git-flowã‚’é‹ç”¨ã—ã¦ã„ã¾ã™ã€‚neovimä¸Šã ã¨ã‚³ãƒ¼ãƒ‰ã®ç·¨é›†ã‚’ã—ã¦`<space>lg`ã§lazygitã‚’èµ·å‹•ã—ã¦`j`ã¨`k`ã§ç§»å‹•ã€`<space>`ã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã€`<C-c>`ã§ã‚³ãƒŸãƒƒãƒˆãŒã§ãã‚‹ã®ã§ã¨ã¦ã‚‚ã„ã„ã§ã™ã€‚



