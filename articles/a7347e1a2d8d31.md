---
title: "WezTermã®ã‚¿ãƒ–ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã¤ã‘ã‚‹"
emoji: "ğŸ¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["wezterm"]
published: false
---


# ã¯ã˜ã‚ã«

ä»¥å‰ã€ä»¥ä¸‹ã®è¨˜äº‹ã§WezTermã‚’è§¦ã‚Šå§‹ã‚ã¦ã€å¤§ã¾ã‹ãªè¦‹ãŸç›®ãªã©ã‚’å¤‰æ›´ã—ãŸã‚Šã‚¿ãƒ–ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’å…¥ã‚ŒãŸã‚Šã—ã¾ã—ãŸã€‚

https://zenn.dev/gsy0911/articles/73747712233191

åŸºæœ¬çš„ã«ä¸Šè¨˜ã®è¨­å®šã§å›°ã‚‹ã“ã¨ã¯ãªã„ã®ã§ã™ãŒã€ã‚‚ã†å°‘ã—ã‚ã‹ã‚Šã‚„ã™ãã—ãŸã„ã¨ã„ã†æ°—ãŒã—ã¦ãã¾ã™ã€‚

è¨­å®šå¾Œã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚ä»¥ä¸‹ãŒWezTermã®ç”»é¢ã«ãªã£ã¦ãŠã‚Šã€ä¸‹éƒ¨ã«ã‚¿ãƒ–ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚


![](/images/wezterm_tab_icon/wezterm_tab_icon_01.png =600x)
*iconãŒè¨­å®šã•ã‚ŒãŸWezTermã®ç”»é¢*

ã‚¿ãƒ–ã®éƒ¨åˆ†ã®ã¿æ‹¡å¤§ã—ãŸã®ãŒä»¥ä¸‹ã®å›³ã§ã™ã€‚ã“ã‚Œã‹ã‚‰èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

![](/images/wezterm_tab_icon/wezterm_tab_icon_02.png =600x)
*WezTermã®ã‚¿ãƒ–ã®æ‹¡å¤§å›³*

# è¨­å®š

WezTemã§è¨­å®šã§ãã‚‹iconã¯ä»¥ä¸‹ã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ä¸­ã‹ã‚‰ä¸Šè¨˜ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ã¦ã„ãã¾ã™ã€‚

https://wezfurlong.org/wezterm/config/lua/wezterm/nerdfonts.html



`local wezterm = require 'wezterm'`ã‚’è¨˜è¿°ã—ãŸä¸Šã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ±ºã‚ã¾ã—ãŸã€‚`node`ã®å ´åˆã®ã¿ã€`TypeScript`ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ã¦ã„ã‚‹ã®ã¯ã€å¤‰ãªæ°—ã‚‚ã—ã¾ã™ãŒå®Ÿéš›ã«ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒå‹•ãã®ã¯Reactãªã©ã®ã‚µãƒ¼ãƒãƒ¼ã‚’å‹•ã‹ã™ã“ã¨ãŒå¤šã„ãŸã‚ã“ã®ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

| é …ç›® | nerdfontsã®åå‰ |
|:---:|:---:|
| neovim | wezterm.nerdfonts.linux_neovim |
| docker |  wezterm.nerdfonts.md_docker|
| node | wezterm.nerdfonts.md_language_typescript |
| python | wezterm.nerdfonts.dev_python |
| task | wezterm.nerdfonts.cod_server_process |
| zsh | wezterm.nerdfonts.dev_terminal |
| fallback | wezterm.nerdfonts.md_console_network |

ä¸Šè¨˜ã®ã‚ˆã†ãªiconã®å¯¾å¿œé–¢ä¿‚ã‚’æŒã£ã¦ã€weztermã®è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚


ã¾ãšã¯ã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’å®šæ•°ã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆå‰ç•¥ï¼‰
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³
local TAB_ICON_DOCKER = wezterm.nerdfonts.md_docker
local TAB_ICON_PYTHON = wezterm.nerdfonts.dev_python
local TAB_ICON_NEOVIM = wezterm.nerdfonts.linux_neovim
local TAB_ICON_ZSH = wezterm.nerdfonts.dev_terminal
local TAB_ICON_TASK = wezterm.nerdfonts.cod_server_process
local TAB_ICON_NODE = wezterm.nerdfonts.md_language_typescript
local TAB_ICON_FALLBACK = wezterm.nerdfonts.md_console_network
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
local SOLID_LEFT_CIRCLE = wezterm.nerdfonts.ple_left_half_circle_thick
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle
local SOLID_RIGHT_CIRCLE = wezterm.nerdfonts.ple_right_half_circle_thick
```

æ¬¡ã«ã€ã‚¿ãƒ–ã®è‰²ã®è¨­å®šã§ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = "#5c6d74"
  local foreground = "#FFFFFF"
  local edge_background = "none"
  if tab.is_active then
    background = "#ae8b2d"
    foreground = "#FFFFFF"
  end
  local edge_foreground = background
  local pane = tab.active_pane
  local pane_id = pane.pane_id

  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end
  
```

ä¸Šè¨˜ã¨åˆã‚ã›ã¦ã€ãƒ—ãƒ­ã‚»ã‚¹ã®åå‰ã«å¯¾å¿œã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã®åå‰ã‚’è¨­å®šã—ã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
  local icon = TAB_ICON_FALLBACK
  local icon_foreground = "#ae8b2d"
  if tab.active_pane.title == "nvim" then
    icon = TAB_ICON_NEOVIM
    icon_foreground = "#32cd32"
  elseif tab.active_pane.title == "zsh" then
    icon = TAB_ICON_ZSH
    icon_foreground = "#808080"
  elseif tab.active_pane.title == "Python" or string.find(tab.active_pane.title, "python") then
    icon = TAB_ICON_PYTHON
    icon_foreground = "#ffd700"
  elseif tab.active_pane.title == "node" or string.find(tab.active_pane.title, "node") then
    icon = TAB_ICON_NODE
    icon_foreground = "#1e90ff"
  elseif tab.active_pane.title == "docker" or string.find(tab.active_pane.title, "docker") then
    icon = TAB_ICON_DOCKER
    icon_foreground = "#4169e1"
  elseif tab.active_pane.title == "task" or string.find(tab.active_pane.title, "task") then
    icon = TAB_ICON_TASK
    icon_foreground = "#ff7f50"
  end
```

æœ€å¾Œã«ã€ã‚¿ãƒ–ã®åå‰ã‚’é †æ¬¡ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
  local wholeTitle = cwd 
  local title = " " .. wezterm.truncate_right(wholeTitle, max_width - 1) .. " "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = icon_foreground } },
    { Text = icon },
    { Text = " " },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_CIRCLE },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_CIRCLE },
  }
end)
```

ä»¥ä¸‹ã«å…¨ã¦ã‚’ã¾ã¨ã‚ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ãŠãã¾ã™ã€‚å®Ÿéš›ã«åæ˜ ã™ã‚‹å ´åˆã«ã¯åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚

::::details ã¾ã¨ã‚ãŸwezterm.lua


```lua: ~/Library/Application Support/lazygit/wezterm.lua
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³
local TAB_ICON_DOCKER = wezterm.nerdfonts.md_docker
local TAB_ICON_PYTHON = wezterm.nerdfonts.dev_python
local TAB_ICON_NEOVIM = wezterm.nerdfonts.linux_neovim
local TAB_ICON_ZSH = wezterm.nerdfonts.dev_terminal
local TAB_ICON_TASK = wezterm.nerdfonts.cod_server_process
local TAB_ICON_NODE = wezterm.nerdfonts.md_language_typescript
local TAB_ICON_FALLBACK = wezterm.nerdfonts.md_console_network
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
local SOLID_LEFT_CIRCLE = wezterm.nerdfonts.ple_left_half_circle_thick
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle
local SOLID_RIGHT_CIRCLE = wezterm.nerdfonts.ple_right_half_circle_thick

wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = "#5c6d74"
  local foreground = "#FFFFFF"
  local edge_background = "none"
  if tab.is_active then
    background = "#ae8b2d"
    foreground = "#FFFFFF"
  end
  local edge_foreground = background
  local pane = tab.active_pane
  local pane_id = pane.pane_id

  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end
  
  local icon = TAB_ICON_FALLBACK
  local icon_foreground = "#ae8b2d"
  if tab.active_pane.title == "nvim" then
    icon = TAB_ICON_NEOVIM
    icon_foreground = "#32cd32"
  elseif tab.active_pane.title == "zsh" then
    icon = TAB_ICON_ZSH
    icon_foreground = "#808080"
  elseif tab.active_pane.title == "Python" or string.find(tab.active_pane.title, "python") then
    icon = TAB_ICON_PYTHON
    icon_foreground = "#ffd700"
  elseif tab.active_pane.title == "node" or string.find(tab.active_pane.title, "node") then
    icon = TAB_ICON_NODE
    icon_foreground = "#1e90ff"
  elseif tab.active_pane.title == "docker" or string.find(tab.active_pane.title, "docker") then
    icon = TAB_ICON_DOCKER
    icon_foreground = "#4169e1"
  elseif tab.active_pane.title == "task" or string.find(tab.active_pane.title, "task") then
    icon = TAB_ICON_TASK
    icon_foreground = "#ff7f50"
  end

  local wholeTitle = cwd 
  local title = " " .. wezterm.truncate_right(wholeTitle, max_width - 1) .. " "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = icon_foreground } },
    { Text = icon },
    { Text = " " },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_CIRCLE },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_CIRCLE },
  }
end)
```
::::

# ãŠã‚ã‚Šã«

