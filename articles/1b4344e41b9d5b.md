---
title: "感謝の高速移動ijkl"
emoji: "✨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["neovim"]
published: false
---


# はじめに


備忘録がてらまとめます。WezTermを触り始めて、LazyGitなどを入れてみると、ターミナルで全て完結できるのもいいなと思い始めました。

この記事は、neovimを触りつつ、またプラグインも入れながら書いています。

# インストール

brewにて`neovim`をインストールしています。

```
$ brew install neovim
```

その後に、`$ neovim {ファイル}`でneovimを開くことができます。

# 基本操作

Vimには以下のモードが存在します。

* Normal mode
* Insert mode
* Command mode
* Visual mode


## Normal mode

画面を開いた直後の状態です。キーを押下することで画面移動やコピーなどができます。

### Normal mode: 移動


| キー | 操作 |
|:--:|:--|
| h | 左移動 |
| j | 下移動 |
| k | 上移動 |
| l | 右移動 |
| $ | 末尾に移動 |
| 0 | 先頭に移動 |
| { | 段落ごとに上に移動 |
| } | 段落ごとに下に移動 |
| [[ | セクションごとに上に移動 |
| ]] | セクションごとに下に移動 |
| gg | ファイルの先頭に移動 |
| G | ファイルの末尾に移動 |

:::message
最初は辛かったですが、慣れるとホームポジションから矢印に移動するのも面倒になってきました。`0`と`$`はあまり使わないで、代わりに`I`と`A`をよく使います。移動した直後から入力開始できるからです。
:::

### Normal mode: 移動して入力モードへ移行

| キー | 操作 |
|:--:|:--|
| a | カーソルの右側から入力を開始 |
| A | 行の末尾から入力を開始 |
| i | カーソルの左側から入力を開始 |
| I | 行の先頭から入力を開始 |
| e | 英単語のスペース区切り前などに移動 |
| o | 改行して入力を開始 |
| O | 下に改行をして上に入力を開始 |
| C | カーソルのある位置から末尾までを削除してInsert modeに |
| c0 | カーソルのある一から先頭まで削除をしてInsert modeに |
| cc | カーソルのある行を削除してInsert modeに |

### Normal mode: コピー

ここでは、Normal modeのみで完結するコピーのコマンドのみですが、実際は後述するVisual modeでコピー範囲を選択してなどの方法をよく使います。

| キー | 操作 |
|:--:|:--|
| yy | 無名レジスタに行コピー|
| dd | 行を切り取り |
| p | 無名レジスタの内容を貼り付け |
| x | カーソル上の文字を削除（Deleteキーと同じ） |

### Normal mode: 検索

| キー | 操作 |
|:--:|:--|
| /検索したい文字列 | 文字の検索 |
| n | 次の検索結果に移動 |
| N | 前の検索結果に移動 |
|  |  |


### Normal mode: その他

| キー | 操作 |
|:--:|:--|
| u | 直前の入力を削除（Ctrl + Zと同じ挙動） |
|  |  |
|  |  |



helloworld!!yoshikihello
fheiafea
## Insert mode

文字を入力するモードです。`<esc>`キーを入力することでNormal modeに戻ることができます。

ただ、`<esc>`を入力するのはちょっと手の移動が大きいので別のキーにマッピングするのが便利でいいです。次の記事でもあるように`<C-g>`や`jj`に割り当てると操作しやすくなります。

https://qiita.com/RepublicOfKorokke/items/0a267b53156cd8a64a59

その場合、以下のように記述すると良いです。

```lua: init.lua
vim.keymap.set("i", "jj", "<esc>")
```

:::message
ただし、日本語入力のままの状態で`jj`を押下すると、`っj`となり、Normal modeに移行できないのがたまに煩雑だなと思います。
:::

## Command mode

様々なコマンドを実行するモードです。Normal modeから`:`を入力して切り替えることができます。`<esc>`で再びNormal modeに戻ることができます。

よく利用するコマンドは以下の通りです。

| キー | 操作 |
|:--:|:--:|
| :u | 直前の操作を取り消す |
| :q | 終了する |
| :q! | 保存しないで終了する |
| :w | 保存する |

:::message
意外と`:u`のコマンドは便利です。何か変な操作をしてしまっても冷静に`<esc>`を押して、`:u`を押せばとりあえず元に戻ります。
:::
## Visual mode

テキストの領域選択を出来るモードです。Normal modeから`v` or `V` or `<C-v>`のいずれかの入力で切り替えることができます。

| キー | 操作 |
|:--:|:--:|
| v | vを押したところから選択ができる |
| V | Vを押した行全体を選択できる |
| `<C-V>` | 矩形選択が出来る |

上記のコマンドで範囲選択をした後に`d`や`y`で切り取りやコピーができます。

# そのほか

Chromeの操作もvimと合わせてみます

https://zenn.dev/gkz/articles/vimium-beginners-guide

# おわりに

## 参考

https://qiita.com/naomaruru/items/95e2ed811b8b8c8bb053
https://qiita.com/RepublicOfKorokke/items/0a267b53156cd8a64a59
https://zenn.dev/peloeil/articles/a9c579ba24b225
https://qiita.com/0829/items/c4ba0e7aa274c2d0b34f
https://qiita.com/mutsuki15/items/4abce9d107304d3dd120


