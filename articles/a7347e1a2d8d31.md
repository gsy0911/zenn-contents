---
title: "WezTermã®ã‚¿ãƒ–ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã¤ã‘ã‚‹"
emoji: "ğŸ¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["wezterm"]
published: false
---


# ã¯ã˜ã‚ã«

ä»¥ä¸‹ã®è¨˜äº‹ã§WezTermã‚’è§¦ã‚Šå§‹ã‚ã¦ã€å¤§ã¾ã‹ãªè¦‹ãŸç›®ãªã©ã‚’å¤‰æ›´ã—ãŸã‚Šã‚¿ãƒ–ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’å…¥ã‚ŒãŸã‚Šã—ã¾ã—ãŸã€‚

https://zenn.dev/gsy0911/articles/73747712233191

![](/images/wezterm_tab/wezterm_tab_10.png =600x)
*ä»¥å‰ã®è¨˜äº‹ã§è¨­å®šã—ãŸã‚¿ãƒ–ã®çŠ¶æ…‹ï¼ˆå‰è¨˜äº‹ã‚ˆã‚Šå¼•ç”¨ï¼‰*

å®Ÿéš›ã«è§¦ã£ã¦ã„ã‚‹ã¨æ–‡å­—ãŒå¤šãè¦‹åˆ‡ã‚Œã¦ã—ã¾ã£ã¦ã„ã‚‹ç‚¹ãŒæ°—ã«ãªã‚Šã¾ã—ãŸã€‚ãã®ãŸã‚ã€æ–‡å­—æ•°ã‚’å°‘ãªãã—ã¦è¦‹åˆ‡ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ã¨ã€ãã®ãŸã‚ã«å‹•ã„ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¢ã‚¤ã‚³ãƒ³ã§è¡¨ç¤ºã—ã¦ãƒ‘ãƒƒã¨è¦‹ã§ã‚ã‹ã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚

## æ”¹å–„å¾Œ


è¨­å®šå¾Œã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ä¸‹éƒ¨ã«è¨­å®šå¾Œã®ã‚¿ãƒ–ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚


![](/images/wezterm_tab_icon/wezterm_tab_icon_01.png =600x)
*ä¿®æ­£å¾Œã®WezTermã®ã‚¿ãƒ–*

ã‚¿ãƒ–ã®éƒ¨åˆ†ã®ã¿æ‹¡å¤§ã—ãŸã®ãŒä»¥ä¸‹ã®å›³ã§ã™ã€‚

![](/images/wezterm_tab_icon/wezterm_tab_icon_02.png =600x)
*ä¿®æ­£å¾Œã®WezTermã®ã‚¿ãƒ–ã®æ‹¡å¤§å›³*

# è¨­å®š

WezTemã§è¨­å®šã§ãã‚‹iconã¯ä»¥ä¸‹ã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ä¸­ã‹ã‚‰zshã‚„dockerãªã©ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸ã³ã¾ã™ã€‚

https://wezfurlong.org/wezterm/config/lua/wezterm/nerdfonts.html



`local wezterm = require 'wezterm'`ã‚’è¨˜è¿°ã—ãŸä¸Šã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã¥ã‘ã¾ã—ãŸã€‚


| é …ç›® | nerdfontsã®åå‰ |
|:---:|:---:|
| neovim | wezterm.nerdfonts.linux_neovim |
| docker |  wezterm.nerdfonts.md_docker|
| node | wezterm.nerdfonts.md_language_typescript |
| python | wezterm.nerdfonts.dev_python |
| task | wezterm.nerdfonts.cod_server_process |
| zsh | wezterm.nerdfonts.dev_terminal |
| fallback | wezterm.nerdfonts.md_console_network |

ä¸Šè¨˜ã®ã‚ˆã†ãªiconã®å¯¾å¿œé–¢ä¿‚ã§`wezterm.lua`ã®ä¿®æ­£ã‚’ã—ã¦ã„ãã¾ã™ã€‚


::: message
`node`ã®å ´åˆã®ã¿ã€`TypeScript`ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ã¦ã„ã‚‹ã®ã¯å¤‰ãªæ°—ã‚‚ã—ã¾ã™ãŒã€å®Ÿéš›ã«ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒå‹•ãã®ã¯Reactãªã©ã®ã‚µãƒ¼ãƒãƒ¼ã‚’å‹•ã‹ã™ã“ã¨ãŒå¤šã„ãŸã‚ã“ã®ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
:::

ã¾ãšã¯ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨è‰²ã‚’å®šæ•°ã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚è‰²ã¯ã€å„ç¨®ã‚¢ã‚¤ã‚³ãƒ³ãŒãƒ‘ãƒƒã¨ã‚ã‹ã‚‹ã‚ˆã†ãªè‰²ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆå‰ç•¥ï¼‰
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³
local TAB_ICON_DOCKER = wezterm.nerdfonts.md_docker
local TAB_ICON_PYTHON = wezterm.nerdfonts.dev_python
local TAB_ICON_NEOVIM = wezterm.nerdfonts.linux_neovim
local TAB_ICON_ZSH = wezterm.nerdfonts.dev_terminal
local TAB_ICON_TASK = wezterm.nerdfonts.cod_server_process
local TAB_ICON_NODE = wezterm.nerdfonts.md_language_typescript
local TAB_ICON_FALLBACK = wezterm.nerdfonts.md_console_network
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³è‰²
local TAB_ICON_COLOR_DOCKER = "#4169e1"
local TAB_ICON_COLOR_PYTHON = "#ffd700"
local TAB_ICON_COLOR_NEOVIM = "#32cd32"
local TAB_ICON_COLOR_ZSH = "#808080"
local TAB_ICON_COLOR_TASK = "#ff7f50"
local TAB_ICON_COLOR_NODE = "#1e90ff"
local TAB_ICON_COLOR_FALLBACK = "#ae8b2d"
local TAB_FOREGROUND_DEFAULT = "#FFFFFF"
local TAB_BACKGROUND_DEFAULT = "#5c6d74"
local TAB_FOREGROUND_ACTIVE = "#FFFFFF"
local TAB_BACKGROUND_ACTIVE = "#ae8b2d"
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
local SOLID_LEFT_CIRCLE = wezterm.nerdfonts.ple_left_half_circle_thick
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle
local SOLID_RIGHT_CIRCLE = wezterm.nerdfonts.ple_right_half_circle_thick
```

æ¬¡ã«ã€ã‚¿ãƒ–ã®è‰²ã®è¨­å®šã§ã™ã€‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ãªã£ãŸå ´åˆã®ã¿è‰²ã‚’å¤‰ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯å‰è¨˜äº‹ã¨åŒã˜è¨­å®šã§ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = TAB_BACKGROUND_DEFAULT
  local foreground = TAB_FOREGROUND_DEFAULT
  if tab.is_active then
    background = TAB_BACKGROUND_ACTIVE
    foreground = TAB_FOREGROUND_ACTIVE
  end
  local edge_background = "none"
  local edge_foreground = background
  
```

ã‚¿ãƒ–ã®åå‰ã«å¯¾å¿œã™ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã¨è‰²ã‚’è¨­å®šã—ã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
  local icon = TAB_ICON_FALLBACK
  local icon_foreground = TAB_ICON_COLOR_FALLBACK
  if tab.active_pane.title == "nvim" then
    icon = TAB_ICON_NEOVIM
    icon_foreground = TAB_ICON_COLOR_NEOVIM
  elseif tab.active_pane.title == "zsh" then
    icon = TAB_ICON_ZSH
    icon_foreground = TAB_ICON_COLOR_ZSH
  elseif tab.active_pane.title == "Python" or string.find(tab.active_pane.title, "python") then
    icon = TAB_ICON_PYTHON
    icon_foreground = TAB_ICON_COLOR_PYTHON
  elseif tab.active_pane.title == "node" or string.find(tab.active_pane.title, "node") then
    icon = TAB_ICON_NODE
    icon_foreground = TAB_ICON_COLOR_NODE
  elseif tab.active_pane.title == "docker" or string.find(tab.active_pane.title, "docker") then
    icon = TAB_ICON_DOCKER
    icon_foreground = TAB_ICON_COLOR_DOCKER
  elseif tab.active_pane.title == "task" or string.find(tab.active_pane.title, "task") then
    icon = TAB_ICON_TASK
    icon_foreground = TAB_ICON_COLOR_TASK
  end
```

æœ€å¾Œã«ã€ã‚¿ãƒ–ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚`return`ç¯€ã§å·¦ã‹ã‚‰é †æ¬¡ã‚¿ãƒ–ã‚’å½¢ã¥ãã£ã¦ã„ãã¾ã™ã€‚

```lua: ~/Library/Application Support/lazygit/wezterm.lua
  ï¼ˆæ‰¿å‰ï¼‰
  local pane = tab.active_pane
  local pane_id = pane.pane_id
  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end
  
  local wholeTitle = cwd 
  local title = " " .. wezterm.truncate_right(wholeTitle, max_width - 1) .. " "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = icon_foreground } },
    { Text = icon },
    { Text = " " },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_CIRCLE },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_CIRCLE },
  }
end)
```

![](/images/wezterm_tab_icon/wezterm_tab_icon_02.png =600x)
*ï¼ˆå†æ²ï¼‰ã‚¿ãƒ–ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¨­å®šã—ãŸå›³*

ä»¥ä¸‹ã«å…¨ã¦ã‚’ã¾ã¨ã‚ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ãŠãã¾ã™ã€‚å®Ÿéš›ã«åæ˜ ã™ã‚‹å ´åˆã«ã¯åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚

::::details ã¾ã¨ã‚ãŸwezterm.lua


```lua: ~/Library/Application Support/lazygit/wezterm.lua
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³
local TAB_ICON_DOCKER = wezterm.nerdfonts.md_docker
local TAB_ICON_PYTHON = wezterm.nerdfonts.dev_python
local TAB_ICON_NEOVIM = wezterm.nerdfonts.linux_neovim
local TAB_ICON_ZSH = wezterm.nerdfonts.dev_terminal
local TAB_ICON_TASK = wezterm.nerdfonts.cod_server_process
local TAB_ICON_NODE = wezterm.nerdfonts.md_language_typescript
local TAB_ICON_FALLBACK = wezterm.nerdfonts.md_console_network
-- ã‚¿ãƒ–ã®ã‚¢ã‚¤ã‚³ãƒ³è‰²
local TAB_ICON_COLOR_DOCKER = "#4169e1"
local TAB_ICON_COLOR_PYTHON = "#ffd700"
local TAB_ICON_COLOR_NEOVIM = "#32cd32"
local TAB_ICON_COLOR_ZSH = "#808080"
local TAB_ICON_COLOR_TASK = "#ff7f50"
local TAB_ICON_COLOR_NODE = "#1e90ff"
local TAB_ICON_COLOR_FALLBACK = "#ae8b2d"
local TAB_FOREGROUND_DEFAULT = "#FFFFFF"
local TAB_BACKGROUND_DEFAULT = "#5c6d74"
local TAB_FOREGROUND_ACTIVE = "#FFFFFF"
local TAB_BACKGROUND_ACTIVE = "#ae8b2d"
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
local SOLID_LEFT_CIRCLE = wezterm.nerdfonts.ple_left_half_circle_thick
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle
local SOLID_RIGHT_CIRCLE = wezterm.nerdfonts.ple_right_half_circle_thick

wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = TAB_BACKGROUND_DEFAULT
  local foreground = TAB_FOREGROUND_DEFAULT
  if tab.is_active then
    background = TAB_BACKGROUND_ACTIVE
    foreground = TAB_FOREGROUND_ACTIVE
  end
  local edge_background = "none"
  local edge_foreground = background

  local icon = TAB_ICON_FALLBACK
  local icon_foreground = TAB_ICON_COLOR_FALLBACK
  if tab.active_pane.title == "nvim" then
    icon = TAB_ICON_NEOVIM
    icon_foreground = TAB_ICON_COLOR_NEOVIM
  elseif tab.active_pane.title == "zsh" then
    icon = TAB_ICON_ZSH
    icon_foreground = TAB_ICON_COLOR_ZSH
  elseif tab.active_pane.title == "Python" or string.find(tab.active_pane.title, "python") then
    icon = TAB_ICON_PYTHON
    icon_foreground = TAB_ICON_COLOR_PYTHON
  elseif tab.active_pane.title == "node" or string.find(tab.active_pane.title, "node") then
    icon = TAB_ICON_NODE
    icon_foreground = TAB_ICON_COLOR_NODE
  elseif tab.active_pane.title == "docker" or string.find(tab.active_pane.title, "docker") then
    icon = TAB_ICON_DOCKER
    icon_foreground = TAB_ICON_COLOR_DOCKER
  elseif tab.active_pane.title == "task" or string.find(tab.active_pane.title, "task") then
    icon = TAB_ICON_TASK
    icon_foreground = TAB_ICON_COLOR_TASK
  end

  local pane = tab.active_pane
  local pane_id = pane.pane_id
  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end
  
  local wholeTitle = cwd 
  local title = " " .. wezterm.truncate_right(wholeTitle, max_width - 1) .. " "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = icon_foreground } },
    { Text = icon },
    { Text = " " },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_CIRCLE },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_CIRCLE },
  }
end)
```
::::

# ãŠã‚ã‚Šã«

WezTermã®ã‚¿ãƒ–ãŒã‚ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã—ãŸã€‚å¿«é©ãªWezTermãƒ©ã‚¤ãƒ•ã‚’é€ã£ã¦ã„ãã¾ã™ã€‚

