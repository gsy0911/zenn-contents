---
title: "WezTermã®ã‚¿ãƒ–ã«ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¡¨ç¤ºã•ã›ã‚‹"
emoji: "ğŸŒƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["wezterm"]
published: true
---

# ã¯ã˜ã‚ã«

ã‚ã‚‹æ—¥ã€ã¯ã¦ãƒ–ã‚’è¦‹ã¦ãŸã‚‰ä»¥ä¸‹ã®è¨˜äº‹ã§`WezTerm`ã¨ã„ã†ã®ã‚’çŸ¥ã‚Šã¾ã—ãŸã€‚

https://motemen.hatenablog.com/entry/2024/09/wezterm

ä»Šã¾ã§ã¯`iTerm2`ã‚’ä½¿ã£ã¦ãŠã‚Šã€å¤§ããªä¸æº€ç‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€è¨­å®šã‚’VCSã§ç®¡ç†ã™ã‚‹ã“ã¨ãŒé›£ã—ã„ç‚¹ã¯å¾®å¦™ã ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚è¨­å®šã‚’exportã™ã‚‹ã“ã¨ã§VCSã§ç®¡ç†ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã¿ãŸã„ãªã®ã§ã™ãŒã€ãªã‚“ã ã‹ã‚“ã ã§GUIã§å‡ºåŠ›ãƒ»ç®¡ç†ã™ã‚‹ã®ã¯ç…©é›‘ãªãŸã‚ã§ã™ã€‚

ãã®ç‚¹`WezTerm`ã¯Luaã§è¨­å®šã‚’æ›¸ãã“ã¨ãŒã§ãã€VCSã§è¨­å®šã‚’ç®¡ç†ã§ãã‚‹ã®ã§ã„ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚ãã“ã§æœ¬è¨˜äº‹ã§ã¯ã€`WezTerm`ã®è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚

# è¨­å®šã‚’åŠ ãˆãŸ`WezTerm`

`WezTerm`ã‚’è¨˜äº‹ã‚„å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã‚’å‚è€ƒã«ã—ã¤ã¤ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã—ãŸã€‚

![](/images/wezterm_tab/wezterm_tab_09.png =600x)
*è¨­å®šå¾Œã®WezTerm*

ã“ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã¯ã€ã€Œè¤‡æ•°ã®ç•°ãªã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åŒæ™‚ã«é–‹ã„ã¦ã€ä¸¦è¡Œã§ä½œæ¥­ã‚’ã™ã‚‹ã€ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€`$ docker compose up`ã§è¤‡æ•°ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ã¤ã¤ã€åŒä¸€ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä½•ã‹ã®ä½œæ¥­ã‚’ã—ãŸã‚Šã€`$ docker compose exec ...`ã§ã‚³ãƒ³ãƒ†ãƒŠå†…ã«å…¥ã£ã¦ä½œæ¥­ã—ãŸã‚Šãªã©ã§ã™ã€‚ã¾ãŸã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªAã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªBã§ã€ä¸¦åˆ—ã§ä½œæ¥­ã‚’ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ä½œæ¥­ä¸­ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ«ãƒ¼ãƒˆï¼ˆï¼gitãƒªãƒã‚¸ãƒˆãƒªã®ãƒ«ãƒ¼ãƒˆï¼‰ã‚’ã‚¿ãƒ–ã«è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã«å®Ÿéš›ã«åˆ©ç”¨ã™ã‚‹ã‚·ãƒ¼ãƒ³ã‚’æƒ³å®šã—ãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚å·¦ã®`node [ zenn-contents ]`ã‚¿ãƒ–ã§ã¯zennã®è¨˜äº‹ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¤ã¤ã€å³ã®`docker [ zenn-symfony-docker ]`ã‚¿ãƒ–ã§ã¯dockerã‚’ç«‹ã¡ä¸Šã’ã¦ã„ã¾ã™ã€‚çœŸã‚“ä¸­ã®`zsh [ gsy0911 ]`ã‚¿ãƒ–ã§ã¯ãƒªãƒã‚¸ãƒˆãƒªã§ã®ä½•ã‹ã—ã‚‰ã®ä½œæ¥­ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ã€ãƒªãƒã‚¸ãƒˆãƒªã®åå‰ãŒã‚ã‹ã‚‹ã ã‘ã§çµæ§‹ä¾¿åˆ©ã«ãªã‚Šã¾ã™ã€‚

![](/images/wezterm_tab/wezterm_tab_10.png =600x)
*æƒ³å®šã•ã‚Œã‚‹ã‚·ãƒ¼ãƒ³ã§ã®åˆ©ç”¨ç”»é¢*

# `WezTerm`ã®è¨­å®š

ãã‚Œã§ã¯ã€è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚åˆæœŸçŠ¶æ…‹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
local wezterm = require 'wezterm'
local config = wezterm.config_builder()

return config
```

![](/images/wezterm_tab/wezterm_tab_01.png =600x)
*åˆæœŸçŠ¶æ…‹*

æ¬¡ã«ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«éƒ¨åˆ†ã‚’é€éã•ã›ã¦ã€ã¼ã‹ã—ã‚’å…¥ã‚Œã¾ã™ã€‚`color_schema`ã¯[ã“ã“](https://wezfurlong.org/wezterm/colorschemes/index.html)ã«ã‚µãƒ³ãƒ—ãƒ«ãŒè¼‰ã£ã¦ã„ã¾ã™ã€‚ã¡ãªã¿ã«ã€`Nightly`ã‚’é¸ã¶ã¨`iTerm2`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨åŒã˜è¦‹ãŸç›®ã«ãªã‚Šã¾ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
config.color_scheme = 'Wombat'
-- èƒŒæ™¯ã®éé€éç‡ï¼ˆ1ãªã‚‰å®Œå…¨ã«é€éã•ã›ãªã„ï¼‰
config.window_background_opacity = 0.70
-- èƒŒæ™¯ã‚’ã¼ã‹ã™
config.macos_window_background_blur = 20
```

![](/images/wezterm_tab/wezterm_tab_03.png =600x)
*ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®é€éã¨ã¼ã‹ã—ã‚’è¿½åŠ *

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’`JetBrains Mono`ã«è¨­å®šã—ã¾ã™ã€‚Intellijç³»ã‚’ä½¿ã£ã¦ã„ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€è¦‹ã‚„ã™ãã¦å¥½ããªãƒ•ã‚©ãƒ³ãƒˆã§ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
config.font = wezterm.font('JetBrains Mono', { weight = 'Bold' })
config.font_size = 14.0
```

![](/images/wezterm_tab/wezterm_tab_04.png =600x)
*ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã®ãƒ•ã‚©ãƒ³ãƒˆèª¿æ•´*

åŒæ§˜ã«ã€ã‚¿ãƒ–ã®æ–‡å­—åˆ—ã®ãƒ•ã‚©ãƒ³ãƒˆã‚‚èª¿æ•´ã—ã¾ã™ã€‚ã‚ã¾ã‚Šå¤‰åŒ–ã¯ãªã„ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒãƒ»ãƒ»ãƒ»ã€‚

```lua: ~/.config/wezterm/wezterm.lua
config.window_frame = {
  font = wezterm.font('JetBrains Mono', { weight = 'Bold' }),
  font_size = 14,
}
```

![](/images/wezterm_tab/wezterm_tab_05.png =600x)
*ã‚¿ãƒ–ã®ãƒ•ã‚©ãƒ³ãƒˆèª¿æ•´*

ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã¨ã‚¿ãƒ–ã®è¿½åŠ ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã‚¿ãƒ–ã®è¿½åŠ ã¯`âŒ˜ + T`ã§ã§ãã‚‹ãŸã‚ä¸è¦ã§ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
-- ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã‚’éè¡¨ç¤º
config.window_decorations = "RESIZE"
-- ã‚¿ãƒ–ã®è¿½åŠ ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
config.show_new_tab_button_in_tab_bar = false
-- ã‚¿ãƒ–ãŒä¸€ã¤ã—ã‹ãªã„æ™‚ã«éè¡¨ç¤º
config.hide_tab_bar_if_only_one_tab = true
```

![](/images/wezterm_tab/wezterm_tab_06.png =600x)
*ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã¨ã‚¿ãƒ–ã®è¿½åŠ ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤*

ã‚ã‹ã‚Šã«ãã„ã§ã™ãŒã€éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã®ã‚¿ãƒ–ã®å¢ƒç•Œç·šã‚’å‰Šé™¤ã—ã¾ã™ã€‚`2: zsh X`ã®`X`ã®éš£ã«ã‚ã‚‹ç·šãŒæ¶ˆãˆã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
config.colors = {
  tab_bar = {
    inactive_tab_edge = "none",
  },
}
```

![](/images/wezterm_tab/wezterm_tab_07.png =600x)
*å¢ƒç•Œç·šã‚’å‰Šé™¤*

æ¬¡ã«ã€å„ã‚¿ãƒ–å†…ã«ãŠã‘ã‚‹ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å–å¾—ã€ä¿æŒã™ã‚‹å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚`local title_cache`ã«`pane_id`ã”ã¨ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä¿æŒã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ç§ã®ç’°å¢ƒã®ãƒ«ãƒ¼ãƒ«ã¨ã—ã¦ã€`$HOME/Development/Projects`ä»¥ä¸‹ã«å„ç¨®Gitã®ãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆãŒã‚ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€`wezterm.on('update-status', function(...))`å†…ã«ã¦`os.getenv 'HOME'`ã¨`'/Development/Projects'`ã®æ–‡å­—åˆ—ã‚’æ¶ˆã™ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã“ã¯äººã«ã‚ˆã£ã¦ç•°ãªã‚‹ã¨æ€ã†ã®ã§ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚å‚è€ƒã«ã—ãŸè¨˜äº‹ã§ã¯`git`ã‚³ãƒãƒ³ãƒ‰ã‚’åˆ©ç”¨ã—ã¦ã„ãŸã®ã§ãã‚Œã§ã‚‚ã„ã„ã‹ãªã¨æ€ã„ã¾ã™ã€‚

ã“ã®è¨­å®šã‚’è¿½åŠ ã—ãŸã ã‘ã§ã¯ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®è¦‹ãŸç›®ã«å¤‰åŒ–ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

```lua: ~/.config/wezterm/wezterm.lua
function split(str, ts)
  -- å¼•æ•°ãŒãªã„ã¨ãã¯ç©ºtableã‚’è¿”ã™
  if ts == nil then return {} end

  local t = {} ;
  i=1
  for s in string.gmatch(str, "([^"..ts.."]+)") do
    t[i] = s
    i = i + 1
  end

  return t
end

-- å„ã‚¿ãƒ–ã®ã€Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã€ã‚’è¨˜æ†¶ã—ã¦ãŠããƒ†ãƒ¼ãƒ–ãƒ«
local title_cache = {}

wezterm.on('update-status', function(window, pane)
  local pane_id = pane:pane_id()
  title_cache[pane_id] = "-"
  local process_info = pane:get_foreground_process_info()
  if process_info then
    local cwd = process_info.cwd
    -- æ–‡å­—åˆ—ã‚’å‰Šé™¤ã—ã¦ã„ã‚‹
    -- ç’°å¢ƒã«å¿œã˜ã¦å¤‰ãˆã‚‹ã“ã¨
    local rm_home = string.gsub(cwd, os.getenv 'HOME', '')
    local prj = string.gsub(rm_home, '/Development/Projects', '')
    local dirs = split(prj, '/')
    local root_dir = dirs[1]
    title_cache[pane_id] = root_dir
  end
end)
```

:::message
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å–å¾—ã¯å°‘ã—å¼·å¼•ãªæ–¹æ³•ã‚’æ¡ã£ã¦ã„ã¾ã™ã€‚ã‚‚ã†å°‘ã—è³¢ã„ã‚„ã‚Šæ–¹ãŒã‚ã‚Œã°æ•™ãˆã¦æ¬²ã—ã„ã§ã™ã€‚
:::

æ¬¡ã«ã€ä¸Šã§å®šç¾©ã—ãŸé–¢æ•°ã‚’åˆ©ç”¨ã—ã¦ã‚¿ãƒ–ã®è¦‹ãŸç›®ã¨ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´ã—ã¾ã™ã€‚ã‚¿ãƒ–ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã¨éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã®çŠ¶æ…‹ã§è‰²ãŒåˆ†ã‹ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚åŠ ãˆã¦ã€éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã®ã‚¿ãƒ–ã§ã‚‚ã©ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹ã®ã‹ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ã‚¿ãƒ–ã‚’é¸æŠã™ã‚‹ã«ã—ã¦ã‚‚ã™ãã«ç§»å‹•ã§ãã¾ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
-- ã‚¿ãƒ–ã®å½¢ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle

wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = "#5c6d74"
  local foreground = "#FFFFFF"
  local edge_background = "none"
  if tab.is_active then
    background = "#ae8b2d"
    foreground = "#FFFFFF"
  end
  local edge_foreground = background
  local pane = tab.active_pane
  local pane_id = pane.pane_id

  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end

  local title = " " .. wezterm.truncate_right(tab.active_pane.title, max_width - 1) .. " [ " .. cwd .. " ] "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_ARROW },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_ARROW },
  }
end)
```

![](/images/wezterm_tab/wezterm_tab_08.png =600x)
*ã‚¿ãƒ–ã®è¦‹ãŸç›®ã‚’å¤‰æ›´*

æœ€å¾Œã«ã€ã‚¿ãƒ–ã®ä½ç½®ã‚’ä¸‹å´ã«å¤‰æ›´ã—ã¾ã™ã€‚

```lua: ~/.config/wezterm/wezterm.lua
-- ã‚¿ãƒ–ã‚’ä¸‹ã«è¡¨ç¤º
config.tab_bar_at_bottom = true
```

![](/images/wezterm_tab/wezterm_tab_09.png =600x)
*ã‚¿ãƒ–ã®ä½ç½®ã‚’å¤‰æ›´*

ã‚¿ãƒ–ã®ç§»å‹•ã«é–¢ã—ã¦ã‚‚ä»¥ä¸‹ã®è¨­å®šã‚’åŠ ãˆã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯`âŒ˜ + Shift + [`ã§å·¦æ–¹å‘ã€`âŒ˜ + Shift + ]`ã§å³æ–¹å‘ã«ç§»å‹•ã§ãã¾ã™ã€‚ãŸã ã€ã€ŒShiftã¨Ctrlã¨ã©ã£ã¡ã ã£ã‘ãƒ»ãƒ»ï¼Ÿã€ã¨æ‚©ã‚€ã“ã¨ãŒå¤šã€…ã‚ã£ãŸã®ã§ã€`âŒ˜ + Ctrl + [`ã¨`âŒ˜ + Ctrl + ]`ã§ã‚¿ãƒ–ã®ç§»å‹•ãŒã§ãã‚‹ã‚ˆã†ã«ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚

```lua:
local act = wezterm.action

config.keys = {
    -- âŒ˜ Ctrl [] ã§ã‚¿ãƒ–ã®ç§»å‹•
    -- defaultã¯âŒ˜ Shift []
    {
        key = '[',
        mods = 'CMD|CTRL',
        action = act.ActivateTabRelative(-1)
    },
    {
        key = ']',
        mods = 'CMD|CTRL',
        action = act.ActivateTabRelative(1)
    }
}
```


ã“ã‚Œã«ã¦ã€`WezTerm`ã®è¨­å®šã¯ã²ã¨ã¾ãšå®Œäº†ã§ã™ã€‚ã‚¿ãƒ–ã”ã¨ã«èµ·å‹•ã—ã¦ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚ã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã€ä½¿ã„å‹æ‰‹ã¯è‰¯ã„ã§ã™ã€‚è¦‹ãŸç›®ãªã©ã¯å‚è€ƒã«ã—ãŸè¨˜äº‹ã‚’ã»ã¼ã‚³ãƒ”ãƒ¼ã—ãŸå†…å®¹ã«ãªã£ã¦ã„ã¾ã™ãŒãƒ»ãƒ»ãƒ»ã€‚èª°ã‹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚

æœ€å¾Œã«ã€ç¾æ™‚ç‚¹ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’ç½®ã„ã¦ãŠãã¾ã™ã€‚ã“ã‚Œã‹ã‚‰ã‚‚è¨­å®šã‚’è¿½è¨˜ã—ã¦ã„ã£ã¦ä½¿ã„ã‚„ã™ã„ã‚ˆã†ã«ã—ã¦ã„ããŸã„ã§ã™ã€‚

:::details ~/.config/wezter/wezterm.luaã®å…¨ä½“

```lua: ~/.config/wezter/wezterm.lua
-- Pull in the wezterm API
local wezterm = require 'wezterm'

-- This table will hold the configuration.
local config = wezterm.config_builder()


----------------------------------------------------
-- Window
----------------------------------------------------

config.color_scheme = 'Wombat'

-- èƒŒæ™¯ã®éé€éç‡ï¼ˆ1ãªã‚‰å®Œå…¨ã«é€éã•ã›ãªã„ï¼‰
config.window_background_opacity = 0.70
config.macos_window_background_blur = 20

config.default_cursor_style = 'BlinkingBar'
config.cursor_blink_rate = 1000
config.cursor_blink_ease_in = "Linear"
config.cursor_blink_ease_out = "Linear"

config.enable_scroll_bar = true

config.font = wezterm.font('JetBrains Mono', { weight = 'Bold' })
config.font_size = 14.0
config.command_palette_font_size = 14.0
config.command_palette_bg_color = '#4D07FF'

config.window_frame = {
	font = wezterm.font('JetBrains Mono', { weight = 'Bold' }),
	font_size = 14,
}


----------------------------------------------------
-- Tab
----------------------------------------------------
-- ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ã‚’éè¡¨ç¤º
config.window_decorations = "RESIZE"
-- ã‚¿ãƒ–ã®è¿½åŠ ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
config.show_new_tab_button_in_tab_bar = false
-- ã‚¿ãƒ–ãŒä¸€ã¤ã—ã‹ãªã„æ™‚ã«éè¡¨ç¤º
config.hide_tab_bar_if_only_one_tab = true
-- nightlyã®ã¿ä½¿ç”¨å¯èƒ½
-- ã‚¿ãƒ–ã®é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
-- config.show_close_tab_button_in_tabs = false

-- ã‚¿ãƒ–åŒå£«ã®å¢ƒç•Œç·šã‚’éè¡¨ç¤º
config.colors = {
  tab_bar = {
    inactive_tab_edge = "none",
  },
}


function split(str, ts)
  -- å¼•æ•°ãŒãªã„ã¨ãã¯ç©ºtableã‚’è¿”ã™
  if ts == nil then return {} end

  local t = {} ;
  i=1
  for s in string.gmatch(str, "([^"..ts.."]+)") do
    t[i] = s
    i = i + 1
  end

  return t
end

-- å„ã‚¿ãƒ–ã®ã€Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã€ã‚’è¨˜æ†¶ã—ã¦ãŠããƒ†ãƒ¼ãƒ–ãƒ«
local title_cache = {}

wezterm.on('update-status', function(window, pane)
  local pane_id = pane:pane_id()
  title_cache[pane_id] = "-"
  local process_info = pane:get_foreground_process_info()

  if process_info then
    local cwd = process_info.cwd
    local rm_home = string.gsub(cwd, os.getenv 'HOME', '')
    local prj = string.gsub(rm_home, '/Development/Projects', '')
    local dirs = split(prj, '/')
    local root_dir = dirs[1]
    title_cache[pane_id] = root_dir
  end
end)


-- ã‚¿ãƒ–ã®å½¢ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
-- ã‚¿ãƒ–ã®å·¦å´ã®è£…é£¾
local SOLID_LEFT_ARROW = wezterm.nerdfonts.ple_lower_right_triangle
-- ã‚¿ãƒ–ã®å³å´ã®è£…é£¾
local SOLID_RIGHT_ARROW = wezterm.nerdfonts.ple_upper_left_triangle

wezterm.on("format-tab-title", function(tab, tabs, panes, config, hover, max_width)
  local background = "#5c6d74"
  local foreground = "#FFFFFF"
  local edge_background = "none"
  if tab.is_active then
    background = "#ae8b2d"
    foreground = "#FFFFFF"
  end
  local edge_foreground = background
  local pane = tab.active_pane
  local pane_id = pane.pane_id

  local cwd = "none"
  if title_cache[pane_id] then
    cwd = title_cache[pane_id]
  else
    cwd = "-"
  end

  local title = " " .. wezterm.truncate_right(tab.active_pane.title, max_width - 1) .. " [ " .. cwd .. " ] "
  return {
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_LEFT_ARROW },
    { Background = { Color = background } },
    { Foreground = { Color = foreground } },
    { Text = title },
    { Background = { Color = edge_background } },
    { Foreground = { Color = edge_foreground } },
    { Text = SOLID_RIGHT_ARROW },
  }
end)

----------------------------------------------------
-- Key Bindings
----------------------------------------------------

local act = wezterm.action

config.keys = {
    -- âŒ˜ w ã§ãƒšã‚¤ãƒ³ã‚’é–‰ã˜ã‚‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¿ãƒ–ãŒé–‰ã˜ã‚‹ï¼‰
    {
        key = "w",
        mods = "CMD",
        action = wezterm.action.CloseCurrentPane { confirm = true },
    },
    -- âŒ˜ Ctrl oã§ãƒšã‚¤ãƒ³ã®ä¸­èº«ã‚’å…¥ã‚Œæ›¿ãˆã‚‹
    {
        key = "o",
        mods = "CMD|CTRL",
        action = wezterm.action.RotatePanes 'Clockwise'
    },
    -- âŒ˜ Enterã§æœ€å¤§åŒ–ãƒ»ç¸®å°åŒ–ã®ãƒˆã‚°ãƒ«
    {
        key = 'Enter',
        mods = 'CMD',
        action = act.ToggleFullScreen
    },
    -- âŒ˜ Ctrl [] ã§ã‚¿ãƒ–ã®ç§»å‹•
    -- defaultã¯âŒ˜ Shift []
    {
        key = '[',
        mods = 'CMD|CTRL',
        action = act.ActivateTabRelative(-1)
    },
    {
        key = ']',
        mods = 'CMD|CTRL',
        action = act.ActivateTabRelative(1)
    }
}

-- æœ€åˆã‹ã‚‰ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã§èµ·å‹•
local mux = wezterm.mux
wezterm.on("gui-startup", function(cmd)
    local tab, pane, window = mux.spawn_window(cmd or {})
    window:gui_window():toggle_fullscreen()
end)

-- ã‚¿ãƒ–ã‚’ä¸‹ã«è¡¨ç¤ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä¸Šã«ã‚ã‚‹ï¼‰
config.tab_bar_at_bottom = true

return config
```
:::

# å‚è€ƒ

https://zenn.dev/mozumasu/articles/mozumasu-wezterm-customization
https://qiita.com/showchan33/items/c91bb7f6f2b89e9ed57d
https://qiita.com/gp333/items/c472f7a7d9fcca1b5cb7
